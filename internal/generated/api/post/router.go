// Code generated by genapi. DO NOT EDIT manually.
package post

import (
	"github.com/eif-courses/civilregistry/internal/generated/repository" // âœ… Correct path
	"github.com/go-chi/chi/v5"
	"go.uber.org/zap"
)

func PostRouter(queries *repository.Queries, log *zap.SugaredLogger) chi.Router {
	r := chi.NewRouter()

	// Create service with repository
	service := NewService(queries, log)
	handlers := NewHandlers(service, log)

	r.Get("/health", handlers.HealthCheck)
	r.Post("/", handlers.CreatePost)
	r.Get("/{id}", handlers.GetPostByID)
	r.Get("/", handlers.GetPublicPosts)

	return r
}
